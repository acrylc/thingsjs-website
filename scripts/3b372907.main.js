$(document).ready(function(){graph={},graph.init=function(){var a=40,b=d3.random.normal(0,.2),c=d3.range(a).map(b),d={top:20,right:20,bottom:20,left:40},e=700-d.left-d.right,f=400-d.top-d.bottom,g=d3.scale.linear().domain([1,a-2]).range([0,e]),h=d3.scale.linear().domain([-1,1]).range([f,0]),i=d3.svg.line().interpolate("basis").x(function(a,b){return g(b)}).y(function(a){return h(a)}),j=d3.select(".graph").append("svg").attr("width",e+d.left+d.right).attr("height",f+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");j.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",e).attr("height",f),j.append("g").attr("class","x axis").attr("transform","translate(0,"+h(0)+")").call(d3.svg.axis().scale(g).orient("bottom")),j.append("g").attr("class","y axis").call(d3.svg.axis().scale(h).orient("left"));var k=j.append("g").attr("clip-path","url(#clip)").append("path").datum(c).attr("class","line").attr("d",i);graph.tick=function(){c.push(b()),that=this,k.attr("d",i).attr("transform",null).transition().duration(500).ease("linear").attr("transform","translate("+g(0)+",0)").each("end",graph.tick),c.shift()}},graph.init(),graph.tick()});